# 工作进度日志

## 2024-03-21

### 已实现的功能
- 创建了基本的 Web 服务器框架
- 实现了配置页面的路由和 HTML 界面
- 添加了对话请求的处理路由
- 集成了 API 调用功能

### 遇到的问题
- API 调用部分目前只返回测试数据
- 请求发送后没有等待响应就返回了结果
- 缺少错误处理机制
- 没有对 API 密钥进行安全存储
- 未实现 AI 响应的流式输出(Stream)功能
- 未实现本地模型管理
- 未实现grpc服务

### 解决方案
- 需要完善 API 调用逻辑,等待实际响应后再返回结果
- 添加 try-catch 错误处理
- 考虑使用环境变量或配置文件来存储 API 密钥
- 添加请求超时机制
- 实现更完善的错误提示
- 实现 Server-Sent Events (SSE) 来支持 AI 响应的流式输出
  - 在服务端实现 SSE 事件流
  - 在客户端使用 EventSource 接收流式响应
  - 实现打字机效果的渐进式显示
- 使用Wasm 实现本地模型管理